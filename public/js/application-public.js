$((function(){var e=function(e){$(".application-error-message").html(e).show()},t=function(t){var a="";$.each(t,(function(e,t){""!==a&&(a+="<br />"),a+=t})),e(a)};$(document).on("submit",".application-form",(function(a){a.preventDefault(),a.stopPropagation();var n=$(this),o=n.find("button[type=submit]");$(".application-success-message").html("").hide(),$(".application-error-message").html("").hide(),$.ajax({type:"POST",cache:!1,url:n.prop("action"),data:new FormData(n[0]),contentType:!1,processData:!1,beforeSend:function(){return o.addClass("button-loading")},success:function(t){var a=t.error,o=t.message;a?e(o):(n[0].reset(),n.find(".application-error-message").hide(),function(e){$(".application-success-message").html(e).show()}(o)),"undefined"!=typeof refreshRecaptcha&&refreshRecaptcha(),document.dispatchEvent(new CustomEvent("application-form.submitted"))},error:function(a){var n;"undefined"!=typeof refreshRecaptcha&&refreshRecaptcha(),void 0!==(n=a).errors&&n.errors.length?t(n.errors):void 0!==n.responseJSON?void 0!==n.responseJSON.errors?422===n.status&&t(n.responseJSON.errors):void 0!==n.responseJSON.message?e(n.responseJSON.message):$.each(n.responseJSON,(function(t,a){$.each(a,(function(t,a){e(a)}))})):e(n.statusText)},complete:function(){return o.removeClass("button-loading")}})})),$(document).on("click",".application-form button",(function(){var e=$("#cv_file");$(".application-success-message").html("").hide(),$(".application-error-message").html("").hide(),setTimeout((function(){e.length&&""===e.val()?e.removeClass("is-valid"):e.addClass("is-valid")}),200);var t=$(".application-form");setTimeout((function(){if(t.find(".invalid-feedback").length>1){var e=t.find(".application-error-message"),a=!1;t.find(".invalid-feedback").each((function(t,n){""!==$(n).text()&&(a=!0,e.append("<p>".concat($(n).text(),"</p>")))})),a&&e.show()}else t.find(".application-error-message").hide()}),200)}))}));